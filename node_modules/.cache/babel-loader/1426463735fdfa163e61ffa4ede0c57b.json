{"ast":null,"code":"var _jsxFileName = \"/Users/17476018U/Google \\u0414\\u0438\\u0441\\u043A/Projects/Frontend/Project/DoctorsFront/src/pages/AppointmentPage.js\";\nimport React from 'react';\nimport Tile from '../components/Tile/Tile';\nimport styles from './AppointmentPage.module.css';\nimport Spinner from 'react-bootstrap/Spinner';\nimport { loadAppointment, deleteAppointment } from '../redux/appointment/actions';\nexport default class AppointmentPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      departments: [],\n      loadingFlag: true\n    };\n    this.handleDeleteAppointment = this.handleDeleteAppointment.bind(this);\n    this.handleDeleteAllAppointment = this.handleDeleteAllAppointment.bind(this);\n    this.handleAppointment = this.handleAppointment.bind(this);\n  }\n\n  handleAppointment() {\n    // this.setState({loadingFlag: true});\n    this.fetchAppointment(localStorage.getItem('omsNumber'), localStorage.getItem('birthDate'));\n  }\n\n  componentDidMount() {\n    this.handleAppointment();\n  }\n\n  render() {\n    const loadPage = React.createElement(\"div\", {\n      className: styles.loadPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, React.createElement(Spinner, {\n      animation: \"border\",\n      variant: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }));\n\n    if (this.state.loadingFlag) {\n      return loadPage;\n    }\n\n    const doctors = [...new Set(this.state.departments.map(x => x.available_resource_id))];\n    const emptyPage = React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, 'У вас пока нет записей!');\n    const page = React.createElement(\"div\", {\n      className: styles.page,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: styles.list,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, doctors.map(doctor => React.createElement(Tile, {\n      key: doctor,\n      handleDelete: () => this.handleDeleteAllAppointment(doctor),\n      handleDeleteItem: this.handleDeleteAppointment,\n      appointments: this.state.departments.filter(x => x.available_resource_id === doctor),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }))));\n    return this.state.departments.length === 0 ? emptyPage : page;\n  }\n\n}\n;","map":{"version":3,"sources":["/Users/17476018U/Google Диск/Projects/Frontend/Project/DoctorsFront/src/pages/AppointmentPage.js"],"names":["React","Tile","styles","Spinner","loadAppointment","deleteAppointment","AppointmentPage","Component","constructor","props","state","departments","loadingFlag","handleDeleteAppointment","bind","handleDeleteAllAppointment","handleAppointment","fetchAppointment","localStorage","getItem","componentDidMount","render","loadPage","doctors","Set","map","x","available_resource_id","emptyPage","page","list","doctor","filter","length"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,IAAP,MAAiB,yBAAjB;AAEA,OAAOC,MAAP,MAAmB,8BAAnB;AAEA,OAAOC,OAAP,MAAoB,yBAApB;AAEA,SAASC,eAAT,EAA0BC,iBAA1B,QAAmD,8BAAnD;AAEA,eAAe,MAAMC,eAAN,SAA8BN,KAAK,CAACO,SAApC,CAA6C;AAC3DC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AAACC,MAAAA,WAAW,EAAE,EAAd;AAAkBC,MAAAA,WAAW,EAAE;AAA/B,KAAb;AACA,SAAKC,uBAAL,GAA+B,KAAKA,uBAAL,CAA6BC,IAA7B,CAAkC,IAAlC,CAA/B;AACA,SAAKC,0BAAL,GAAkC,KAAKA,0BAAL,CAAgCD,IAAhC,CAAqC,IAArC,CAAlC;AACA,SAAKE,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBF,IAAvB,CAA4B,IAA5B,CAAzB;AACA;;AAEDE,EAAAA,iBAAiB,GAAG;AACnB;AACA,SAAKC,gBAAL,CAAsBC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAtB,EAAyDD,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAzD;AACA;;AAEDC,EAAAA,iBAAiB,GAAG;AACnB,SAAKJ,iBAAL;AACA;;AAEDK,EAAAA,MAAM,GAAG;AACR,UAAMC,QAAQ,GAAG;AAAK,MAAA,SAAS,EAAEpB,MAAM,CAACoB,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkC,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,QAAnB;AAA4B,MAAA,OAAO,EAAC,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAlC,CAAjB;;AAEA,QAAI,KAAKZ,KAAL,CAAWE,WAAf,EAA4B;AAC3B,aAAOU,QAAP;AACA;;AACD,UAAMC,OAAO,GAAG,CAAC,GAAG,IAAIC,GAAJ,CAAQ,KAAKd,KAAL,CAAWC,WAAX,CAAuBc,GAAvB,CAA2BC,CAAC,IAAIA,CAAC,CAACC,qBAAlC,CAAR,CAAJ,CAAhB;AACA,UAAMC,SAAS,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,yBAAL,CAAlB;AACA,UAAMC,IAAI,GACT;AAAK,MAAA,SAAS,EAAE3B,MAAM,CAAC2B,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAI,MAAA,SAAS,EAAE3B,MAAM,CAAC4B,IAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACEP,OAAO,CACNE,GADD,CACKM,MAAM,IACV,oBAAC,IAAD;AACC,MAAA,GAAG,EAAEA,MADN;AAEC,MAAA,YAAY,EAAE,MAAM,KAAKhB,0BAAL,CAAgCgB,MAAhC,CAFrB;AAGC,MAAA,gBAAgB,EAAE,KAAKlB,uBAHxB;AAIC,MAAA,YAAY,EAAE,KAAKH,KAAL,CAAWC,WAAX,CAAuBqB,MAAvB,CAA8BN,CAAC,IAAIA,CAAC,CAACC,qBAAF,KAA4BI,MAA/D,CAJf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFD,CADF,CADA,CADD;AAgBA,WAAQ,KAAKrB,KAAL,CAAWC,WAAX,CAAuBsB,MAAvB,KAAkC,CAAlC,GAAsCL,SAAtC,GAAkDC,IAA1D;AACA;;AA3C0D;AA4C3D","sourcesContent":["import React from 'react';\n\nimport Tile from '../components/Tile/Tile'\n\nimport styles from './AppointmentPage.module.css'\n\nimport Spinner from 'react-bootstrap/Spinner'\n\nimport { loadAppointment, deleteAppointment } from '../redux/appointment/actions';\n\nexport default class AppointmentPage extends React.Component{\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {departments: [], loadingFlag: true};\n\t\tthis.handleDeleteAppointment = this.handleDeleteAppointment.bind(this);\n\t\tthis.handleDeleteAllAppointment = this.handleDeleteAllAppointment.bind(this);\n\t\tthis.handleAppointment = this.handleAppointment.bind(this);\n\t}\n\n\thandleAppointment() {\n\t\t// this.setState({loadingFlag: true});\n\t\tthis.fetchAppointment(localStorage.getItem('omsNumber'), localStorage.getItem('birthDate'));\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.handleAppointment();\n\t}\n\n\trender() {\n\t\tconst loadPage = <div className={styles.loadPage} ><Spinner animation=\"border\" variant=\"primary\" /></div>;\n\t\t\n\t\tif (this.state.loadingFlag) {\n\t\t\treturn loadPage;\n\t\t}\n\t\tconst doctors = [...new Set(this.state.departments.map(x => x.available_resource_id))];\n\t\tconst emptyPage = <h2>{'У вас пока нет записей!'}</h2>;\n\t\tconst page = (\n\t\t\t<div className={styles.page}>\n\t\t\t<ul className={styles.list}>\n\t\t\t\t{doctors\n\t\t\t\t\t.map(doctor => \n\t\t\t\t\t\t<Tile\n\t\t\t\t\t\t\tkey={doctor}\n\t\t\t\t\t\t\thandleDelete={() => this.handleDeleteAllAppointment(doctor)}\n\t\t\t\t\t\t\thandleDeleteItem={this.handleDeleteAppointment}\n\t\t\t\t\t\t\tappointments={this.state.departments.filter(x => x.available_resource_id === doctor)}\n\t\t\t\t\t\t/>)\n\t\t\t\t}\n\t\t\t</ul>\n\t\t</div>\n\t\t);\n\n\t\treturn  this.state.departments.length === 0 ? emptyPage : page;\n\t};\n};\n"]},"metadata":{},"sourceType":"module"}