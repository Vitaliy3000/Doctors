{"ast":null,"code":"const BASE_URL = \"https://back-q-doctor.herokuapp.com/api\";\nconst APPOINTMENT_URL = \"/people/appointments\";\n\nfunction fetchLoadAppointment(omsNumber, birthDate) {\n  return fetch(BASE_URL + APPOINTMENT_URL + \"?oms_number=\".concat(omsNumber, \"&birth_date=\").concat(birthDate), {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n}\n\n;\n\nfunction fetchDeleteAppointment(appointmentId, omsNumber, birthDate) {\n  return fetch(BASE_URL + APPOINTMENT_URL + \"/\".concat(appointmentId, \"?oms_number=\").concat(omsNumber, \"&birth_date=\").concat(birthDate), {\n    method: 'DELETE',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n}\n\n; // handleDeleteAppointment(appointmentId) {\n// \tthis.fetchDeleteAppointment(appointmentId, localStorage.getItem('omsNumber'), localStorage.getItem('birthDate'))\n// \t.then(()=>this.setState({departments: this.state.departments.filter(department => department.appointment_id !== appointmentId)}));\n// };\n// handleDeleteAllAppointment(doctor) {\n// \tthis.state.departments.filter(department => department.available_resource_id === doctor).map(department =>\n// \t\tthis.fetchDeleteAppointment(department.appointment_id, localStorage.getItem('omsNumber'), localStorage.getItem('birthDate'))\n// \t\t.then(()=>this.setState({departments: this.state.departments.filter(department => department.available_resource_id !== doctor)})));\n// };\n\nexport const loadAppointment = payload => {\n  return function (dispatch) {\n    dispatch(loadAppointmentAction);\n    return fetchLoadAppointment(...payload).then(response => response.json()).then(response => dispatch(loadAppointmentSuccess(response)));\n  };\n};\nexport const deleteAppointment = payload => {\n  return function (dispatch) {\n    dispatch(deleteAppointmentAction);\n    return fetchDeleteAppointment(...payload).then(response => response.json()).then(response => dispatch(deleteAppointmentSuccess(response)));\n  };\n};\nexport const loadAppointmentAction = {\n  type: 'LOAD_APPOINTMENT',\n  payload: null\n};\nexport const loadAppointmentSuccess = payload => ({\n  type: 'LOAD_APPOINTMENT_SUCCESS',\n  payload: payload\n});\nexport const deleteAppointmentAction = {\n  type: 'DELETE_APPOINTMENT',\n  payload: null\n};\nexport const deleteAppointmentSuccess = payload => ({\n  type: 'DELETE_APPOINTMENT_SUCCESS',\n  payload: payload\n});","map":{"version":3,"sources":["/Users/17476018U/Google Диск/Projects/Frontend/Project/DoctorsFront/src/redux/appointment/actions.js"],"names":["BASE_URL","APPOINTMENT_URL","fetchLoadAppointment","omsNumber","birthDate","fetch","method","headers","fetchDeleteAppointment","appointmentId","loadAppointment","payload","dispatch","loadAppointmentAction","then","response","json","loadAppointmentSuccess","deleteAppointment","deleteAppointmentAction","deleteAppointmentSuccess","type"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,yCAAjB;AACA,MAAMC,eAAe,GAAG,sBAAxB;;AAGA,SAASC,oBAAT,CAA8BC,SAA9B,EAAyCC,SAAzC,EAAoD;AAClD,SAAOC,KAAK,CACVL,QAAQ,GAACC,eAAT,yBAAwCE,SAAxC,yBAAgEC,SAAhE,CADU,EAEV;AACEE,IAAAA,MAAM,EAAE,KADV;AAEEC,IAAAA,OAAO,EAAE;AAAC,sBAAgB;AAAjB;AAFX,GAFU,CAAZ;AAOD;;AAAA;;AAGD,SAASC,sBAAT,CAAgCC,aAAhC,EAA+CN,SAA/C,EAA0DC,SAA1D,EAAqE;AACpE,SAAOC,KAAK,CACXL,QAAQ,GAACC,eAAT,cAA6BQ,aAA7B,yBAAyDN,SAAzD,yBAAiFC,SAAjF,CADW,EAEX;AACCE,IAAAA,MAAM,EAAE,QADT;AAECC,IAAAA,OAAO,EAAE;AAAC,sBAAgB;AAAjB;AAFV,GAFW,CAAZ;AAMA;;AAAA,C,CAID;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAGA,OAAO,MAAMG,eAAe,GAAGC,OAAO,IAAI;AACzC,SAAO,UAASC,QAAT,EAAmB;AACvBA,IAAAA,QAAQ,CAACC,qBAAD,CAAR;AACF,WAAOX,oBAAoB,CAAC,GAAGS,OAAJ,CAApB,CACLG,IADK,CACAC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADZ,EAELF,IAFK,CAEAC,QAAQ,IAAIH,QAAQ,CAACK,sBAAsB,CAACF,QAAD,CAAvB,CAFpB,CAAP;AAGA,GALD;AAMA,CAPM;AASP,OAAO,MAAMG,iBAAiB,GAAGP,OAAO,IAAI;AAC3C,SAAO,UAASC,QAAT,EAAmB;AACvBA,IAAAA,QAAQ,CAACO,uBAAD,CAAR;AACF,WAAOX,sBAAsB,CAAC,GAAGG,OAAJ,CAAtB,CACLG,IADK,CACAC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADZ,EAELF,IAFK,CAEAC,QAAQ,IAAIH,QAAQ,CAACQ,wBAAwB,CAACL,QAAD,CAAzB,CAFpB,CAAP;AAGA,GALD;AAMA,CAPM;AASP,OAAO,MAAMF,qBAAqB,GAAG;AACpCQ,EAAAA,IAAI,EAAE,kBAD8B;AAEpCV,EAAAA,OAAO,EAAE;AAF2B,CAA9B;AAKP,OAAO,MAAMM,sBAAsB,GAAGN,OAAO,KAAK;AACjDU,EAAAA,IAAI,EAAE,0BAD2C;AAEjDV,EAAAA,OAAO,EAAEA;AAFwC,CAAL,CAAtC;AAKP,OAAO,MAAMQ,uBAAuB,GAAG;AACtCE,EAAAA,IAAI,EAAE,oBADgC;AAEtCV,EAAAA,OAAO,EAAE;AAF6B,CAAhC;AAKP,OAAO,MAAMS,wBAAwB,GAAGT,OAAO,KAAK;AACnDU,EAAAA,IAAI,EAAE,4BAD6C;AAEnDV,EAAAA,OAAO,EAAEA;AAF0C,CAAL,CAAxC","sourcesContent":["const BASE_URL = \"https://back-q-doctor.herokuapp.com/api\"\nconst APPOINTMENT_URL = \"/people/appointments\"\n\n\nfunction fetchLoadAppointment(omsNumber, birthDate) {\n  return fetch(\n    BASE_URL+APPOINTMENT_URL+`?oms_number=${omsNumber}&birth_date=${birthDate}`,\n    {\n      method: 'GET',\n      headers: {'Content-Type': 'application/json'},\n    },\n  );\n};\n\n\nfunction fetchDeleteAppointment(appointmentId, omsNumber, birthDate) {\n\treturn fetch(\n\t\tBASE_URL+APPOINTMENT_URL+`/${appointmentId}?oms_number=${omsNumber}&birth_date=${birthDate}`,\n\t\t{\n\t\t\tmethod: 'DELETE',\n\t\t\theaders: {'Content-Type': 'application/json'},\n\t\t});\n};\n\n\n\n// handleDeleteAppointment(appointmentId) {\n// \tthis.fetchDeleteAppointment(appointmentId, localStorage.getItem('omsNumber'), localStorage.getItem('birthDate'))\n// \t.then(()=>this.setState({departments: this.state.departments.filter(department => department.appointment_id !== appointmentId)}));\n// };\n\n// handleDeleteAllAppointment(doctor) {\n// \tthis.state.departments.filter(department => department.available_resource_id === doctor).map(department =>\n// \t\tthis.fetchDeleteAppointment(department.appointment_id, localStorage.getItem('omsNumber'), localStorage.getItem('birthDate'))\n// \t\t.then(()=>this.setState({departments: this.state.departments.filter(department => department.available_resource_id !== doctor)})));\n// };\n\n\nexport const loadAppointment = payload => {\n\treturn function(dispatch) {\n    dispatch(loadAppointmentAction);\n\t\treturn fetchLoadAppointment(...payload)\n\t\t\t.then(response => response.json())\n\t\t\t.then(response => dispatch(loadAppointmentSuccess(response)));\n\t};\n};\n\nexport const deleteAppointment = payload => {\n\treturn function(dispatch) {\n    dispatch(deleteAppointmentAction);\n\t\treturn fetchDeleteAppointment(...payload)\n\t\t\t.then(response => response.json())\n\t\t\t.then(response => dispatch(deleteAppointmentSuccess(response)));\n\t};\n};\n\nexport const loadAppointmentAction = {\n\ttype: 'LOAD_APPOINTMENT',\n\tpayload: null,\n};\n\nexport const loadAppointmentSuccess = payload => ({\n\ttype: 'LOAD_APPOINTMENT_SUCCESS',\n\tpayload: payload,\n});\n\nexport const deleteAppointmentAction = {\n\ttype: 'DELETE_APPOINTMENT',\n\tpayload: null,\n};\n\nexport const deleteAppointmentSuccess = payload => ({\n\ttype: 'DELETE_APPOINTMENT_SUCCESS',\n\tpayload: payload,\n});\n"]},"metadata":{},"sourceType":"module"}