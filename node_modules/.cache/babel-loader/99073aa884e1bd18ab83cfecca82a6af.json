{"ast":null,"code":"var _jsxFileName = \"/Users/17476018U/Google \\u0414\\u0438\\u0441\\u043A/Projects/Frontend/Project/DoctorsFront/src/pages/DepartmentPage.js\";\nimport React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport LinkItem from '../components/LinkItem/LinkItem';\nimport styles from './DefaultPage.module.css'; // this.props.loadDepartments([this.state.omsNumber, formatBirthDate(this.state.birthDate)])\n\nclass DepartmentPage extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.renderLoadPage = () => React.createElement(\"div\", {\n      className: styles.loadPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(Spinner, {\n      animation: \"border\",\n      variant: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }));\n  }\n\n  handleDepartment() {\n    console.log('props Department', this.props);\n    this.props.loadDepartments([this.props.omsNumber, this.props.birthDate, this.props.match.params.departmentId]);\n  }\n\n  handleSchedule() {\n    this.props.loadSchedule([this.props.lpuId]);\n  }\n\n  componentDidMount() {\n    this.handleDepartment();\n  }\n\n  componentDidUpdate() {\n    console.log('update Department', this.props);\n\n    if (this.props.lpuId && (!this.props.schedule || this.props.schedule.length === 0)) {\n      console.log('update Department');\n      this.handleSchedule();\n    }\n  }\n\n  renderPage() {\n    console.log('cloud with Departments', this.props);\n    return React.createElement(\"div\", {\n      className: styles.page,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: styles.list,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, this.props.departments.map(department => React.createElement(NavLink, {\n      key: department.code,\n      to: \"department/\".concat(department.code, \"/doctor\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(LinkItem, {\n      key: department.code,\n      index: department.code,\n      text: department.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    })))));\n  }\n\n  render() {\n    return this.props.loadingFlag ? this.renderLoadPage() : this.renderPage();\n  }\n\n}\n\nconst mapStateToProps = state => {\n  console.log('state doctor', state);\n  return {\n    doctors: state.emias.doctors,\n    loadingFlag: !state.emias.doctors,\n    omsNumber: state.user.omsNumber,\n    birthDate: state.user.birthDate,\n    lpuId: state.emias.doctors && state.emias.doctors.length !== 0 && state.emias.doctors[0].lpuId,\n    schedule: state.emias.schedule\n  };\n};\n\nexport default connect(mapStateToProps)(DepartmentPage); // const mapStateToProps = state => ({departments: state.emias.departments});\n// export default connect(mapStateToProps)(render);","map":{"version":3,"sources":["/Users/17476018U/Google Диск/Projects/Frontend/Project/DoctorsFront/src/pages/DepartmentPage.js"],"names":["React","NavLink","connect","LinkItem","styles","DepartmentPage","Component","renderLoadPage","loadPage","handleDepartment","console","log","props","loadDepartments","omsNumber","birthDate","match","params","departmentId","handleSchedule","loadSchedule","lpuId","componentDidMount","componentDidUpdate","schedule","length","renderPage","page","list","departments","map","department","code","name","render","loadingFlag","mapStateToProps","state","doctors","emias","user"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport LinkItem from '../components/LinkItem/LinkItem'\n\nimport styles from './DefaultPage.module.css'\n\n// this.props.loadDepartments([this.state.omsNumber, formatBirthDate(this.state.birthDate)])\n\nclass DepartmentPage extends React.Component {\n  handleDepartment () {\n    console.log('props Department', this.props)\n    this.props.loadDepartments([this.props.omsNumber, this.props.birthDate, this.props.match.params.departmentId])\n  }\n\n  handleSchedule() {\n    this.props.loadSchedule([this.props.lpuId])\n  }\n\n  componentDidMount() {\n    this.handleDepartment()\n  }\n\n  componentDidUpdate() {\n    console.log('update Department', this.props)\n    if (this.props.lpuId && (!this.props.schedule || this.props.schedule.length === 0)) {\n      console.log('update Department');\n      this.handleSchedule();\n    }\n  }\n\n  renderPage() {\n    console.log('cloud with Departments', this.props)\n    return (\n      <div className={styles.page}>\n        <ul className={styles.list}>\n\t\t\t\t\t{this.props.departments.map(department => \n\t\t\t\t\t\t<NavLink key={department.code} to={`department/${department.code}/doctor`} >\n\t\t\t\t\t\t\t<LinkItem\n\t\t\t\t\t\t\t\tkey={department.code}\n\t\t\t\t\t\t\t\tindex={department.code}\n\t\t\t\t\t\t\t\ttext={department.name} />\n\t\t\t\t\t\t</NavLink>)}\n        </ul>\n      </div>\n    );\n  }\n\n  renderLoadPage = () =>  (\n    <div className={styles.loadPage} ><Spinner animation='border' variant='primary' /></div>\n  );\n\n  render() {\n    return this.props.loadingFlag ? this.renderLoadPage() : this.renderPage();\n  }\n}\n\n\nconst mapStateToProps = state => {console.log('state doctor', state); return(\n  {\n    doctors: state.emias.doctors,\n    loadingFlag: !state.emias.doctors,\n    omsNumber: state.user.omsNumber,\n    birthDate: state.user.birthDate,\n    lpuId: state.emias.doctors && state.emias.doctors.length !== 0 && state.emias.doctors[0].lpuId,\n    schedule: state.emias.schedule,\n  }\n);}\n\nexport default connect(mapStateToProps)(DepartmentPage);\n\n\n// const mapStateToProps = state => ({departments: state.emias.departments});\n\n// export default connect(mapStateToProps)(render);\n"]},"metadata":{},"sourceType":"module"}