{"ast":null,"code":"var _jsxFileName = \"/Users/17476018U/Google \\u0414\\u0438\\u0441\\u043A/Projects/Frontend/Project/DoctorsFront/src/components/Tile/Tile.js\";\nimport React from 'react';\nimport styles from './Tile.module.css';\nimport TileItem from '../TileItem/TileItem';\nconst BASE_URL = \"http://back-q-doctor.herokuapp.com/api\";\nconst APPOINTMENT_URL = \"/people/appointments\";\nexport default class Tile extends React.Component {\n  constructor(props) {\n    super(props); // this.state = {appointments: []}\n\n    this.handleSubmit.bind(this);\n  }\n\n  fetchDeleteAppointment(appointmentId, omsNumber, birthDate) {\n    return fetch(BASE_URL + APPOINTMENT_URL + \"/\".concat(appointmentId, \"?oms_number=\").concat(omsNumber, \"&birth_date=\").concat(birthDate), {\n      method: 'DELETE'\n    });\n  }\n\n  handleSubmit(appointmentId) {\n    this.fetchDeleteAppointment(appointmentId, localStorage.getItem('omsNumber'), localStorage.getItem('birthDate'));\n  } // componentDidMount() {}\n\n\n  render() {\n    const departments = JSON.parse(localStorage.getItem('schedule'))['departments'];\n    const doctors = Object.assign(...Object.values(departments).map(x => x['doctors']));\n    const metaDoctor = doctors[this.props.appointments[0].available_resource_id];\n    return React.createElement(\"li\", {\n      className: styles.tile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, metaDoctor.firstName + '\\t' + metaDoctor.lastName), React.createElement(\"ul\", {\n      className: styles.list,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, this.props.appointments.map(record => React.createElement(TileItem, Object.assign({\n      key: record.appointment_id\n    }, record, {\n      handleSubmit: () => this.handleSubmit(record.appointment_id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    })))));\n  }\n\n}\n;","map":{"version":3,"sources":["/Users/17476018U/Google Диск/Projects/Frontend/Project/DoctorsFront/src/components/Tile/Tile.js"],"names":["React","styles","TileItem","BASE_URL","APPOINTMENT_URL","Tile","Component","constructor","props","handleSubmit","bind","fetchDeleteAppointment","appointmentId","omsNumber","birthDate","fetch","method","localStorage","getItem","render","departments","JSON","parse","doctors","Object","assign","values","map","x","metaDoctor","appointments","available_resource_id","tile","firstName","lastName","list","record","appointment_id"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,OAAOC,QAAP,MAAqB,sBAArB;AAEA,MAAMC,QAAQ,GAAG,wCAAjB;AACA,MAAMC,eAAe,GAAG,sBAAxB;AAGA,eAAe,MAAMC,IAAN,SAAmBL,KAAK,CAACM,SAAzB,CAAmC;AACjDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN,EADkB,CAGlB;;AACA,SAAKC,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB;AACA;;AAEDC,EAAAA,sBAAsB,CAACC,aAAD,EAAgBC,SAAhB,EAA2BC,SAA3B,EAAsC;AAC3D,WAAOC,KAAK,CAACZ,QAAQ,GAACC,eAAT,cAA6BQ,aAA7B,yBAAyDC,SAAzD,yBAAiFC,SAAjF,CAAD,EACX;AACCE,MAAAA,MAAM,EAAE;AADT,KADW,CAAZ;AAKA;;AAEDP,EAAAA,YAAY,CAACG,aAAD,EAAgB;AAC3B,SAAKD,sBAAL,CAA4BC,aAA5B,EAA2CK,YAAY,CAACC,OAAb,CAAqB,WAArB,CAA3C,EAA8ED,YAAY,CAACC,OAAb,CAAqB,WAArB,CAA9E;AACA,GAlBgD,CAoBjD;;;AAECC,EAAAA,MAAM,GAAG;AACT,UAAMC,WAAW,GAAGC,IAAI,CAACC,KAAL,CAAWL,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,EAA6C,aAA7C,CAApB;AACA,UAAMK,OAAO,GAAGC,MAAM,CAACC,MAAP,CAAc,GAAGD,MAAM,CAACE,MAAP,CAAcN,WAAd,EAA2BO,GAA3B,CAA+BC,CAAC,IAAIA,CAAC,CAAC,SAAD,CAArC,CAAjB,CAAhB;AACA,UAAMC,UAAU,GAAGN,OAAO,CAAC,KAAKf,KAAL,CAAWsB,YAAX,CAAwB,CAAxB,EAA2BC,qBAA5B,CAA1B;AAEA,WACI;AAAI,MAAA,SAAS,EAAE9B,MAAM,CAAC+B,IAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKH,UAAU,CAACI,SAAX,GAAuB,IAAvB,GAA8BJ,UAAU,CAACK,QAA9C,CADF,EAEE;AAAI,MAAA,SAAS,EAAEjC,MAAM,CAACkC,IAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACF,KAAK3B,KAAL,CAAWsB,YAAX,CAAwBH,GAAxB,CAA4BS,MAAM,IAClC,oBAAC,QAAD;AACC,MAAA,GAAG,EAAEA,MAAM,CAACC;AADb,OAEKD,MAFL;AAGC,MAAA,YAAY,EAAE,MAAM,KAAK3B,YAAL,CAAkB2B,MAAM,CAACC,cAAzB,CAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADA,CADE,CAFF,CADJ;AAcA;;AAzCgD;AA0CjD","sourcesContent":["import React from 'react';\n\nimport styles from './Tile.module.css';\n\nimport TileItem from '../TileItem/TileItem';\n\nconst BASE_URL = \"http://back-q-doctor.herokuapp.com/api\"\nconst APPOINTMENT_URL = \"/people/appointments\"\n\n\nexport default class Tile extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t// this.state = {appointments: []}\n\t\tthis.handleSubmit.bind(this);\n\t}\n\n\tfetchDeleteAppointment(appointmentId, omsNumber, birthDate) {\n\t\treturn fetch(BASE_URL+APPOINTMENT_URL+`/${appointmentId}?oms_number=${omsNumber}&birth_date=${birthDate}`,\n\t\t\t{\n\t\t\t\tmethod: 'DELETE'\n\t\t\t}\n\t\t);\n\t}\n\n\thandleSubmit(appointmentId) {\n\t\tthis.fetchDeleteAppointment(appointmentId, localStorage.getItem('omsNumber'), localStorage.getItem('birthDate'))\n\t}\n\n\t// componentDidMount() {}\n\n  render() {\n\t\tconst departments = JSON.parse(localStorage.getItem('schedule'))['departments']\n\t\tconst doctors = Object.assign(...Object.values(departments).map(x => x['doctors']))\n\t\tconst metaDoctor = doctors[this.props.appointments[0].available_resource_id]\n\t\n\t\treturn (\n      <li className={styles.tile}>\n        <h3>{metaDoctor.firstName + '\\t' + metaDoctor.lastName}</h3>\n        <ul className={styles.list}>\n\t\t\t\t\t{this.props.appointments.map(record => \n\t\t\t\t\t\t<TileItem \n\t\t\t\t\t\t key={record.appointment_id}\n\t\t\t\t\t\t {...record}\n\t\t\t\t\t\t handleSubmit={() => this.handleSubmit(record.appointment_id)} \n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n        </ul>\n      </li>\n\t\t);\n\t};\n};"]},"metadata":{},"sourceType":"module"}