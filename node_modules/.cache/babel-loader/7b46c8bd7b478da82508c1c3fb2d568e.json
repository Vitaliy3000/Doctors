{"ast":null,"code":"const PROXY_URL = \"https://proxy-q-doctor.herokuapp.com/api/emias/\";\nconst SCHEDULE_URL = \"schedule\";\n\nfunction getSchedule(omsNumber, birthDate) {\n  return fetch(PROXY_URL + SCHEDULE_URL + \"?oms_number=\".concat(omsNumber, \"&birth_date=\").concat(birthDate), {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n}\n\n;\nexport const loadSchedule = payload => {\n  console.log('test_redux-action-schedule', payload);\n  return function (dispatch) {\n    dispatch(loadScheduleAction);\n    return getSchedule(...payload).then(response => {\n      if (response.status !== 200) {\n        throw 'Ошибка авторизации';\n      }\n\n      ;\n      return response;\n    }).then(response => response.json()).then(response => dispatch(loadScheduleSuccess(response))).catch(error => dispatch(loadScheduleFailureAction));\n  };\n};\nexport const loadScheduleAction = {\n  type: 'LOAD_SCHEDULE',\n  payload: null\n};\nexport const loadScheduleFailureAction = {\n  type: 'LOAD_SCHEDULE_FAILURE',\n  payload: null\n};\nexport const loadScheduleSuccess = payload => ({\n  type: 'LOAD_SCHEDULE_SUCCESS',\n  payload: payload\n});","map":{"version":3,"sources":["/Users/17476018U/Google Диск/Projects/Frontend/Project/DoctorsFront/src/redux/schedule/actions.js"],"names":["PROXY_URL","SCHEDULE_URL","getSchedule","omsNumber","birthDate","fetch","method","headers","loadSchedule","payload","console","log","dispatch","loadScheduleAction","then","response","status","json","loadScheduleSuccess","catch","error","loadScheduleFailureAction","type"],"mappings":"AAAA,MAAMA,SAAS,GAAG,iDAAlB;AACA,MAAMC,YAAY,GAAG,UAArB;;AAGA,SAASC,WAAT,CAAqBC,SAArB,EAAgCC,SAAhC,EAA2C;AACzC,SAAOC,KAAK,CACVL,SAAS,GAACC,YAAV,yBAAsCE,SAAtC,yBAA8DC,SAA9D,CADU,EAEV;AACEE,IAAAA,MAAM,EAAE,KADV;AAEEC,IAAAA,OAAO,EAAE;AAAC,sBAAgB;AAAjB;AAFX,GAFU,CAAZ;AAOD;;AAAA;AAGD,OAAO,MAAMC,YAAY,GAAGC,OAAO,IAAI;AACrCC,EAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0CF,OAA1C;AACD,SAAO,UAASG,QAAT,EAAmB;AACvBA,IAAAA,QAAQ,CAACC,kBAAD,CAAR;AACA,WAAOX,WAAW,CAAC,GAAGO,OAAJ,CAAX,CACEK,IADF,CACOC,QAAQ,IAAI;AAChB,UAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAAC,cAAM,oBAAN;AAA2B;;AAAA;AACzD,aAAOD,QAAP;AACD,KAJF,EAKED,IALF,CAKOC,QAAQ,IAAIA,QAAQ,CAACE,IAAT,EALnB,EAMEH,IANF,CAMOC,QAAQ,IAAIH,QAAQ,CAACM,mBAAmB,CAACH,QAAD,CAApB,CAN3B,EAOEI,KAPF,CAOQC,KAAK,IAAIR,QAAQ,CAACS,yBAAD,CAPzB,CAAP;AAQF,GAVD;AAWA,CAbM;AAeP,OAAO,MAAMR,kBAAkB,GAAG;AACjCS,EAAAA,IAAI,EAAE,eAD2B;AAEjCb,EAAAA,OAAO,EAAE;AAFwB,CAA3B;AAKP,OAAO,MAAMY,yBAAyB,GAAG;AACxCC,EAAAA,IAAI,EAAE,uBADkC;AAExCb,EAAAA,OAAO,EAAE;AAF+B,CAAlC;AAKP,OAAO,MAAMS,mBAAmB,GAAGT,OAAO,KAAK;AAC9Ca,EAAAA,IAAI,EAAE,uBADwC;AAE9Cb,EAAAA,OAAO,EAAEA;AAFqC,CAAL,CAAnC","sourcesContent":["const PROXY_URL = \"https://proxy-q-doctor.herokuapp.com/api/emias/\"\nconst SCHEDULE_URL = \"schedule\"\n\n\nfunction getSchedule(omsNumber, birthDate) {\n  return fetch(\n    PROXY_URL+SCHEDULE_URL+`?oms_number=${omsNumber}&birth_date=${birthDate}`,\n    {\n      method: 'GET',\n      headers: {'Content-Type': 'application/json'},\n    },\n  );\n};\n\n\nexport const loadSchedule = payload => {\n  console.log('test_redux-action-schedule', payload)\n\treturn function(dispatch) {\n    dispatch(loadScheduleAction);\n    return getSchedule(...payload)\n            .then(response => {\n              if (response.status !== 200) {throw 'Ошибка авторизации'};\n              return response\n            })\n            .then(response => response.json())\n            .then(response => dispatch(loadScheduleSuccess(response)))\n            .catch(error => dispatch(loadScheduleFailureAction));\n\t};\n};\n\nexport const loadScheduleAction = {\n\ttype: 'LOAD_SCHEDULE',\n\tpayload: null,\n};\n\nexport const loadScheduleFailureAction = {\n\ttype: 'LOAD_SCHEDULE_FAILURE',\n\tpayload: null,\n};\n\nexport const loadScheduleSuccess = payload => ({\n\ttype: 'LOAD_SCHEDULE_SUCCESS',\n\tpayload: payload,\n});"]},"metadata":{},"sourceType":"module"}