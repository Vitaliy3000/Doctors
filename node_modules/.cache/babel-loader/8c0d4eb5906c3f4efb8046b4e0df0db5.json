{"ast":null,"code":"import _slicedToArray from \"/Users/17476018U/Google \\u0414\\u0438\\u0441\\u043A/Projects/Frontend/Project/DoctorsFront/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/17476018U/Google \\u0414\\u0438\\u0441\\u043A/Projects/Frontend/Project/DoctorsFront/src/App.js\";\nimport React, { Component, Fragment } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport NotFoundPage from './pages/NotFoundPage';\nimport HelloPage from './pages/HelloPage';\nimport HelpPage from './pages/HelpPage';\nimport MyAppointmentsPage from './pages/MyAppointmentsPage';\nimport DepartmentPage from './pages/DepartmentPage';\nimport DoctorPage from './pages/DoctorPage';\nimport AuthorizationPage from './pages/AuthorizationPage';\nimport Header from './components/Header/Header';\nimport styles from './App.module.css';\n\nfunction formatBirthDate(date) {\n  const _date$split = date.split('/'),\n        _date$split2 = _slicedToArray(_date$split, 3),\n        day = _date$split2[0],\n        month = _date$split2[1],\n        year = _date$split2[2];\n\n  return \"\".concat(year, \"-\").concat(month, \"-\").concat(day);\n}\n\nconst items = {\n  authorization: \"Авторизация\",\n  'appointment/department': \"Записатьcя\",\n  my_appointments: \"Мои записи\",\n  help: \"Помощь\"\n};\nconst BASE_URL = \"https://proxy-q-doctor.herokuapp.com/api/emias/\";\nconst DEPARTMENT_URL = \"departments\";\nconst DOCTOR_URL = \"doctors/\";\nconst SCHEDULE_URL = \"schedule\";\nconst CACHE_URL = \"check_cache\";\nlocalStorage.setItem('departments', JSON.stringify([]));\nlocalStorage.setItem('doctors', JSON.stringify([]));\nlocalStorage.setItem('schedule', JSON.stringify([]));\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleSubmit = person => {\n      localStorage.setItem('birthDate', formatBirthDate(person.birthDate));\n      localStorage.setItem('omsNumber', person.omsNumber);\n      this.fetchDepartments(localStorage.getItem('omsNumber'), localStorage.getItem('birthDate'));\n      this.fetchCacheCheck(localStorage.getItem('omsNumber'), localStorage.getItem('birthDate'));\n    };\n  }\n\n  fetchDepartments(oms_number, birth_date) {\n    return fetch(BASE_URL + DEPARTMENT_URL + \"?oms_number=\".concat(oms_number, \"&birth_date=\").concat(birth_date)).then(response => response.json()).then(response => localStorage.setItem('departments', JSON.stringify(response))).catch(err => localStorage.setItem('departments', JSON.stringify([])));\n  }\n\n  fetchCacheCheck(oms_number, birth_date) {\n    fetch(BASE_URL + CACHE_URL + \"?oms_number=\".concat(oms_number, \"&birth_date=\").concat(birth_date));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: styles.App,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(Header, {\n      links: items,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: styles.main,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      component: HelloPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/authorization\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(AuthorizationPage, {\n      handleSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    })), React.createElement(Route, {\n      exact: true,\n      path: \"/appointment/department\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(DepartmentPage, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    })), React.createElement(Route, {\n      exact: true,\n      path: \"/appointment/department/:departmentId/doctor\",\n      component: DoctorPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/my_appointments\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(MyAppointmentsPage, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })), React.createElement(Route, {\n      path: \"/help\",\n      component: HelpPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/\",\n      component: NotFoundPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    })))));\n  }\n\n}\n\n;\nexport default App;","map":{"version":3,"sources":["/Users/17476018U/Google Диск/Projects/Frontend/Project/DoctorsFront/src/App.js"],"names":["React","Component","Fragment","BrowserRouter","Router","Route","Switch","NotFoundPage","HelloPage","HelpPage","MyAppointmentsPage","DepartmentPage","DoctorPage","AuthorizationPage","Header","styles","formatBirthDate","date","split","day","month","year","items","authorization","my_appointments","help","BASE_URL","DEPARTMENT_URL","DOCTOR_URL","SCHEDULE_URL","CACHE_URL","localStorage","setItem","JSON","stringify","App","handleSubmit","person","birthDate","omsNumber","fetchDepartments","getItem","fetchCacheCheck","oms_number","birth_date","fetch","then","response","json","catch","err","render","main"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n\nimport NotFoundPage from './pages/NotFoundPage';\nimport HelloPage from './pages/HelloPage';\nimport HelpPage from './pages/HelpPage';\nimport MyAppointmentsPage from './pages/MyAppointmentsPage';\nimport DepartmentPage from './pages/DepartmentPage';\nimport DoctorPage from './pages/DoctorPage';\nimport AuthorizationPage from './pages/AuthorizationPage';\n\nimport Header from './components/Header/Header';\n\nimport styles from './App.module.css';\n\n\nfunction formatBirthDate(date) {\n\tconst [day, month, year] = date.split('/');\n\treturn `${year}-${month}-${day}`\n}\n\nconst items = {\n\tauthorization: \"Авторизация\",\n\t'appointment/department': \"Записатьcя\",\n\tmy_appointments: \"Мои записи\",\n\thelp: \"Помощь\",\n}\n\n\nconst BASE_URL = \"https://proxy-q-doctor.herokuapp.com/api/emias/\"\nconst DEPARTMENT_URL = \"departments\"\nconst DOCTOR_URL = \"doctors/\"\nconst SCHEDULE_URL = \"schedule\"\nconst CACHE_URL = \"check_cache\"\n\n\nlocalStorage.setItem('departments', JSON.stringify([]))\nlocalStorage.setItem('doctors', JSON.stringify([]))\nlocalStorage.setItem('schedule', JSON.stringify([]))\n\n\nclass App extends React.Component {\n  fetchDepartments(oms_number, birth_date) {\n\t\treturn fetch(BASE_URL+DEPARTMENT_URL+`?oms_number=${oms_number}&birth_date=${birth_date}`)\n\t\t\t\t\t\t.then(response => response.json())\n            .then(response => localStorage.setItem('departments', JSON.stringify(response)))\n            .catch(err => localStorage.setItem('departments', JSON.stringify([])));\n  }\n\n  fetchCacheCheck(oms_number, birth_date) {\n\t\tfetch(BASE_URL+CACHE_URL+`?oms_number=${oms_number}&birth_date=${birth_date}`)\n\t}\n\n  handleSubmit = person => {\n    localStorage.setItem('birthDate', formatBirthDate(person.birthDate));\n    localStorage.setItem('omsNumber', person.omsNumber);\n    this.fetchDepartments(localStorage.getItem('omsNumber'), localStorage.getItem('birthDate'));\n\t\tthis.fetchCacheCheck(localStorage.getItem('omsNumber'), localStorage.getItem('birthDate'));\n\t};\n\n  render() {\n    return (\n      <div className={styles.App}>\n        <Router>\n\n            <Header links={items} />\n\n            <div className={styles.main}>\n              <Switch>\n\n                <Route exact path=\"/\" component={HelloPage} />\n\n                <Route path=\"/authorization\">\n                  <AuthorizationPage handleSubmit={this.handleSubmit} />\n                </Route>\n\n                <Route exact path=\"/appointment/department\">\n                  <DepartmentPage />\n                </Route>\n\n                <Route exact path=\"/appointment/department/:departmentId/doctor\" component={DoctorPage} />\n\n                <Route path=\"/my_appointments\">\n                  <MyAppointmentsPage />\n                </Route>\n\n                <Route path=\"/help\" component={HelpPage} />\n\n                <Route path=\"/\" component={NotFoundPage} />\n\n              </Switch>\n            </div>\n\n        </Router>\n     </div>\n    );\n  };\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}