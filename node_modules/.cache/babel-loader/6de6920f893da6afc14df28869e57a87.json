{"ast":null,"code":"var _jsxFileName = \"/Users/17476018U/Google \\u0414\\u0438\\u0441\\u043A/Projects/Frontend/Project/DoctorsFront/src/pages/AppointmentPage.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport Tile from '../components/Tile/Tile';\nimport styles from './AppointmentPage.module.css';\nimport Spinner from 'react-bootstrap/Spinner';\nimport { loadAppointment, deleteAppointment } from '../redux/appointment/actions';\n\nclass AppointmentPage extends React.Component {\n  handleAppointment() {\n    this.props.loadAppointment(this.props.omsNumber, this.props.birthDate);\n  }\n\n  componentDidMount() {\n    this.handleAppointment();\n  }\n\n  render() {\n    const loadPage = React.createElement(\"div\", {\n      className: styles.loadPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22\n      },\n      __self: this\n    }, React.createElement(Spinner, {\n      animation: \"border\",\n      variant: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22\n      },\n      __self: this\n    }));\n\n    if (this.props.loadingFlag) {\n      return loadPage;\n    }\n\n    const emptyPage = React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, 'У вас пока нет записей!');\n    const page = React.createElement(\"div\", {\n      className: styles.page,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: styles.list,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, this.props.doctors.map(doctor => React.createElement(Tile // key={doctor}\n    , {\n      handleDelete: () => this.handleDeleteAllAppointment(doctor),\n      handleDeleteItem: this.handleDeleteAppointment,\n      appointments: doctor,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }))));\n    return this.state.departments.length === 0 ? emptyPage : page;\n  }\n\n}\n\n;\n\nconst mapStateToProps = state => {\n  console.log(state);\n  return {\n    doctors: [...new Set(state.appointment.departments)].map(x => state.appointment.departments.filter(y => y === x)),\n    loadingFlag: state.appointment.loadingFlag,\n    omsNumber: state.authorization.omsNumber,\n    birthDate: state.authorization.birthDate\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  loadAppointment: payload => dispatch(loadAppointment(payload)),\n  deleteAppointment: payload => dispatch(deleteAppointment(payload))\n});\n\nexport { AppointmentPage };\nexport default connect(mapStateToProps, mapDispatchToProps)(AppointmentPage);","map":{"version":3,"sources":["/Users/17476018U/Google Диск/Projects/Frontend/Project/DoctorsFront/src/pages/AppointmentPage.js"],"names":["React","connect","Tile","styles","Spinner","loadAppointment","deleteAppointment","AppointmentPage","Component","handleAppointment","props","omsNumber","birthDate","componentDidMount","render","loadPage","loadingFlag","emptyPage","page","list","doctors","map","doctor","handleDeleteAllAppointment","handleDeleteAppointment","state","departments","length","mapStateToProps","console","log","Set","appointment","x","filter","y","authorization","mapDispatchToProps","dispatch","payload"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\n\nimport Tile from '../components/Tile/Tile'\n\nimport styles from './AppointmentPage.module.css'\n\nimport Spinner from 'react-bootstrap/Spinner'\n\nimport { loadAppointment, deleteAppointment } from '../redux/appointment/actions';\n\nclass AppointmentPage extends React.Component{\n\thandleAppointment() {\n\t\tthis.props.loadAppointment(this.props.omsNumber, this.props.birthDate);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.handleAppointment();\n\t}\n\n\trender() {\n\t\tconst loadPage = <div className={styles.loadPage} ><Spinner animation=\"border\" variant=\"primary\" /></div>;\n\t\t\n\t\tif (this.props.loadingFlag) {\n\t\t\treturn loadPage;\n\t\t}\n\t\tconst emptyPage = <h2>{'У вас пока нет записей!'}</h2>;\n\t\tconst page = (\n\t\t\t<div className={styles.page}>\n\t\t\t<ul className={styles.list}>\n\t\t\t\t{this.props.doctors\n\t\t\t\t\t.map(doctor => \n\t\t\t\t\t\t<Tile\n\t\t\t\t\t\t\t// key={doctor}\n\t\t\t\t\t\t\thandleDelete={() => this.handleDeleteAllAppointment(doctor)}\n\t\t\t\t\t\t\thandleDeleteItem={this.handleDeleteAppointment}\n\t\t\t\t\t\t\tappointments={doctor}\n\t\t\t\t\t\t/>)\n\t\t\t\t}\n\t\t\t</ul>\n\t\t</div>\n\t\t);\n\n\t\treturn  this.state.departments.length === 0 ? emptyPage : page;\n\t};\n};\n\n\nconst mapStateToProps = state => {console.log(state); return {\n\tdoctors: [...new Set(state.appointment.departments)].map(x => state.appointment.departments.filter(y=>y===x)),\n\tloadingFlag: state.appointment.loadingFlag,\n\tomsNumber: state.authorization.omsNumber,\n\tbirthDate: state.authorization.birthDate,\n}};\n\n\nconst mapDispatchToProps = dispatch => ({\n\tloadAppointment: payload => dispatch(loadAppointment(payload)),\n\tdeleteAppointment: payload => dispatch(deleteAppointment(payload)),\n});\n\nexport { AppointmentPage };\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(AppointmentPage);\n"]},"metadata":{},"sourceType":"module"}